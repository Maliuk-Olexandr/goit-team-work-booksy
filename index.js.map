{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/header.js","../src/js/helpers.js","../src/js/hero.js","../src/js/products-api.js","../src/js/render-function.js","../src/js/storage.js","../src/js/modal.js","../src/js/books.js","../src/js/feedback.js","../src/js/events.js","../src/js/button-up.js","../src/main.js"],"sourcesContent":["//Обʼєкт з посиланнями на ДОМ елементи\n\nconst refs = {\n  mobMenu: document.querySelector('.mobile-menu'),  // мобільне меню в хедері\n  body: document.body,                              // тіло документа\n};\n\nexport default refs;\n\n\n\n","import refs from './refs';\n\nlet isAnimationInProgress = false;\n\nconst toggleMobMenu = open => {\n  if (isAnimationInProgress) return;\n\n  isAnimationInProgress = true;\n  refs.mobMenu.classList.toggle('is-open', open);\n  refs.body.classList.toggle('no-scroll', open);\n\n  // Додаємо слухача на завершення transition тільки один раз\n  const onTransitionEnd = event => {\n    if (event.target === refs.mobMenu) {\n      isAnimationInProgress = false;\n      refs.mobMenu.removeEventListener('transitionend', onTransitionEnd);\n    }\n  };\n\n  refs.mobMenu.addEventListener('transitionend', onTransitionEnd);\n};\n\ndocument.addEventListener('click', e => {\n  if (e.target.closest('[data-menu-open]')) {\n    toggleMobMenu(true);\n  } else if (e.target.closest('[data-menu-close], .mobile-link')) {\n    toggleMobMenu(false);\n  }\n});","//Допоміжні функції\n\nexport function debounce(func, delay) {\n  let timeout;\n  return (...args) => {\n    clearTimeout(timeout);\n    timeout = setTimeout(() => func(...args), delay);\n  };\n}\n\n\n// Ініціалізація слайдера Swiper\nimport Swiper from 'swiper/bundle';\nimport 'swiper/css/bundle';\n/**\n * Ініціалізує слайдер Swiper з вказаними селекторами для контейнера, кнопок попереднього та наступного слайдів.\n * @param {Object} options - Налаштування слайдера.\n * @param {string} options.containerSelector - CSS-селектор для контейнера слайдера.\n * @param {string} options.prevSelector - CSS-селектор для кнопки \"Попередній\".\n * @param {string} options.nextSelector - CSS-селектор для кнопки \"Наступний\".\n * @returns {Swiper} Повертає екземпляр Swiper.\n */\nexport function initSlider({\n  containerSelector,\n  prevSelector,\n  nextSelector,\n}) {\n  const root = document.querySelector(containerSelector);\n  if (!root) {\n    console.warn(`Swiper контейнер ${containerSelector} не знайдено`);\n    return;\n  }\n\n  const prevBtn = document.querySelector(prevSelector);\n  const nextBtn = document.querySelector(nextSelector);\n\n  // ініціалізація Swiper\n  const swiper = new Swiper(root, {\n    loop: false,\n    effect: 'slide',\n    parallax: true,\n    navigation: {\n      nextEl: nextBtn,\n      prevEl: prevBtn,\n    },\n    autoplay: {\n      delay: 10000,\n      disableOnInteraction: true,\n      pauseOnMouseEnter: true,\n    },\n    keyboard: {\n      enabled: true,\n      onlyInViewport: true,\n    },\n    slidesPerView: 1,\n    slidesPerGroup: 1,\n    on: {\n      init(sw) {\n        updateArrows(sw);\n      },\n      slideChange(sw) {\n        updateArrows(sw);\n      },\n    },\n  });\n\n  function updateArrows(sw) {\n    if (!prevBtn || !nextBtn) return;\n    prevBtn.disabled = sw.isBeginning;\n    nextBtn.disabled = sw.isEnd;\n    prevBtn.classList.toggle('disabled', sw.isBeginning);\n    nextBtn.classList.toggle('disabled', sw.isEnd);\n  }\n\n  [prevBtn, nextBtn].forEach(btn => {\n    if (!btn) return;\n    btn.addEventListener('click', () => {\n      btn.blur();\n    });\n  });\n\n  return swiper;\n}\n","import { initSlider } from \"./helpers\";\n\nconst heroSlider = {\n  containerSelector: '.swiper',\n  prevSelector: '.hero-swiper-btn-prev',\n  nextSelector: '.hero-swiper-btn-next',\n}\n\n\ninitSlider(heroSlider);\n\n  // Плавний скрол по кліку на \"Shop now!\"\n  document.querySelectorAll('.slide-btn[href=\"#books\"]').forEach(btn => {\n    btn.addEventListener('click', e => {\n      e.preventDefault();\n      document.querySelector('#books')?.scrollIntoView();\n    });\n  });\n\n","import axios from 'axios';\n\nconst BASE_URL = 'https://books-backend.p.goit.global/books';\nconst apiClient = axios.create({ baseURL: BASE_URL });\n\n/**\n * Helper function to make API requests to the base URL.\n * Handles basic error logging.\n * @param {string} url - The endpoint URL relative to BASE_URL.\n * @returns {Promise<Object|Array>} - The data returned from the API.\n */\nasync function fetchURL(url = '') {\n  try {\n    const { data } = await apiClient.get(url);\n    return data;\n  } catch (error) {\n    console.error('Error fetching data:', error.message);\n    throw error;\n  }\n}\n\n/**\n * Fetches the list of book categories from the API\n * @returns {Promise<Array>} Array of category names (list_name property from each category object)\n */\nexport async function getCategoryList() {\n  const list = await fetchURL('/category-list');\n  return list.map(e => e.list_name);\n}\n\n/**\n * Fetches the list of top 5 books in each categorie from the API\n * @returns {Promise<Object>} Object of book categories, each containing details about the 5 books within that category\n */\nexport async function getTopBooks() {\n  return await fetchURL(`/top-books`);\n}\n\n/**\n * Fetches the list books in certain categorie from the API\n * @param {string} category - The name of the category to fetch books for.\n * @returns {Promise<Object>} Object of books in that category\n */\nexport async function getBooksByCategory(category) {\n  if (!category) {\n    const error = new Error('Valid category must be provided.');\n    console.error(error);\n    throw error;\n  }\n  return await fetchURL(`/category?category=${category}`);\n}\n\n/**\n * Fetches the list of book details by ID from the API\n * @param {string} id - The unique ID of the book.\n * @returns {Promise<Object>} An object containing the book's details.\n */\nexport async function getBookByID(id) {\n  if (!id) {\n    const error = new Error('Valid book ID must be provided.');\n    console.error(error);\n    throw error;\n  }\n  return await fetchURL(`/${id}`);\n}\n\n// start TODO: Remove this test code before production deployment.\nexport async function testAPI() {\n  try {\n    const catList = await getCategoryList();\n    const topBooks = await getTopBooks();\n    const booksByCategory = await getBooksByCategory(catList[0]);\n    const id = booksByCategory[0]._id;\n    console.log('\\x1b[32mtestAPI() start ------------\\x1b[0m');\n    console.log('\\x1b[32m1. getCategoryList():\\x1b[0m', catList);\n    console.log('\\x1b[32m2. getTopBooks():\\x1b[0m', topBooks);\n    console.log(\n      `\\x1b[32m3. getBooksByCategory('${catList[0]}'):\\x1b[0m`,\n      booksByCategory\n    );\n    console.log(`\\x1b[32m4. getBookByID(\"${id}\"):`, await getBookByID(id));\n    console.log('\\x1b[32mtestAPI() end ------------\\x1b[\\x1b[0m');\n  } catch (error) {\n    console.error('API test failed:', error);\n  }\n}\n// end TODO: Remove this test code before production deployment.\n","//Функцію для створення, рендеру або видалення розмітки\nimport refs from './refs';\n\n//#region Book Modal Render\n// Select elements within the existing modal\nObject.assign(refs, {\n  bookModal_img: document.querySelector('.modal-books_img'),\n  bookModal_title: document.querySelector('.modal-books_title'),\n  bookModal_author: document.querySelector('.modal-books_author'),\n  bookModal_price: document.querySelector('.modal-books_price'),\n  bookModal_details: document.querySelector('[data-ac=\"details\"]'),\n  bookModal_returns: document.querySelector('[data-ac=\"returns\"]'),\n  bookModal_shipping: document.querySelector('[data-ac=\"shipping\"]'),\n  bookModal_data: document.querySelector('.modal-books_data'),\n  bookModal_quantity: document.querySelector('#bookQuantity'),\n});\n\nexport function renderBookModal(dataObj) {\n  refs.bookModal_data.dataset.bookId = dataObj.bookId;\n  refs.bookModal_img.src = dataObj.bookPicture;\n  refs.bookModal_img.alt = dataObj.bookTitle;\n  refs.bookModal_title.textContent = dataObj.bookTitle;\n  refs.bookModal_quantity.value = dataObj.bookQuantity;\n  refs.bookModal_author.textContent = dataObj.bookAuthor;\n  refs.bookModal_price.textContent = '$' + dataObj.bookPrice;\n  refs.bookModal_details.textContent = dataObj.details;\n  refs.bookModal_shipping.textContent = dataObj.shipping;\n  refs.bookModal_returns.textContent = dataObj.returns;\n}\n//#endregion Book Modal Render\n","// Функції для роботи з localStorage\n\nconst CART_STORAGE_KEY = 'shopping_cart';\n\n/**\n * Adds a book to the shopping cart or increases its quantity if already exists\n * @param {string} bookID - Unique identifier of the book\n * @param {number} bookQuantity - Quantity of books to add (must be positive)\n * @returns {boolean} True if successfully added to cart, false otherwise\n * @example\n * // Add 2 copies of book with ID \"xyz\"\n * addToCart(\"xyz\", 2);\n */\nexport function addToCart(bookID, bookQuantity) {\n  if (!bookID || bookQuantity <= 0) {\n    console.warn(\"Wrong parameters, can't add to cart\");\n    return false;\n  }\n\n  const cart = getFullCart();\n  const currentQuantity = cart[bookID] || 0;\n\n  cart[bookID] = Number(currentQuantity) + Number(bookQuantity);\n\n  return saveCart(cart);\n}\n\n/**\n * Removes a specific book from the shopping cart completely\n * @param {string} bookID - Unique identifier of the book to remove\n * @returns {boolean} True if successfully removed, false if bookID is invalid or save failed\n * @example\n * // Remove book with ID \"123\" from cart\n * removeFromCart(\"123\");\n */\nexport function removeFromCart(bookID) {\n  if (!bookID) return false;\n\n  const cart = getFullCart();\n  delete cart[bookID];\n\n  return saveCart(cart);\n}\n\n/**\n * Clears all items from the shopping cart\n * @returns {boolean} True if successfully cleared, false otherwise\n * @example\n * // Remove all items from cart\n * clearCart();\n */\nexport function clearCart() {\n  return saveCart({});\n}\n\n/**\n * Gets the quantity of a specific book in the cart\n * @param {string} bookID - Unique identifier of the book\n * @returns {number} Quantity of the book in cart (0 if not found)\n * @example\n * // Get quantity of book with ID \"123\"\n * getFromCartByID(\"123\");\n */\nexport function getFromCartByID(bookID) {\n  if (!bookID) return 0;\n\n  const cart = getFullCart();\n  return Number(cart[bookID]) || 0;\n}\n\n/**\n * Retrieves the entire shopping cart from localStorage\n * @returns {Object} Cart object with bookID as keys and quantities as values\n * @example\n * // Returns object like: { \"id123\": 2, \"id456\": 1 }\n * const cart = getFullCart();\n */\nexport function getFullCart() {\n  try {\n    const cartData = localStorage.getItem(CART_STORAGE_KEY);\n    return cartData ? JSON.parse(cartData) : {};\n  } catch (error) {\n    console.error('Cart data getting error:', error);\n    return {};\n  }\n}\n\n/**\n * Saves the entire cart object to localStorage\n * @param {Object} cart - Cart object with bookID as keys and quantities as values\n * @returns {boolean} True if successfully saved, false if error occurred\n * @private\n */\nfunction saveCart(cart) {\n  try {\n    localStorage.setItem(CART_STORAGE_KEY, JSON.stringify(cart));\n    return true;\n  } catch (error) {\n    console.error('Cart saving error:', error);\n    return false;\n  }\n}\n","//Описана робота модалки - відкриття закриття і все що з модалкою повʼязано\nimport Accordion from 'accordion-js';\nimport 'accordion-js/dist/accordion.min.css';\nimport { renderBookModal } from './render-function';\nimport { getBookByID } from './products-api';\nimport { addToCart, getFromCartByID } from './storage';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// --- Constants for default text ---\nconst DEFAULT_BOOK_DETAILS = {\n  details: `I Will Find You is a gripping thriller by the master of suspense, Harlan Coben. The story follows David Burroughs, a former prisoner wrongfully convicted of murdering his own son. When he discovers a clue suggesting his son might still be alive, David escapes from prison to uncover the truth. Fast-paced, emotional, and full of unexpected twists — this novel will keep you hooked until the very last page.`,\n  shipping: `We ship across the United States within 2–5 business days. All orders are processed through USPS or a reliable courier service. Enjoy free standard shipping on orders over $50.`,\n  returns: `You can return an item within 14 days of receiving your order, provided it hasn’t been used and is in its original condition. To start a return, please contact our support team — we’ll guide you through the process quickly and hassle-free.`,\n};\n\n// initialise modal-books accordeon\nconst booksAccordion = new Accordion(\n  document.querySelector('.accordion-container'),\n  {\n    showMultiple: true,\n    duration: 400,\n    collapse: true,\n  }\n);\n\nclass Modal {\n  constructor(modalElement) {\n    if (!modalElement) throw new Error('Modal Element not found');\n    this.modalElement = modalElement;\n    this.escapeHandler = this.handleEscape.bind(this);\n    this.closeClickHandler = this.handleCloseClick.bind(this);\n  }\n\n  open() {\n    this.modalElement.classList.add('is-open');\n    document.body.style.overflow = 'hidden';\n    document.addEventListener('keydown', this.escapeHandler);\n    this.modalElement.addEventListener('click', this.closeClickHandler);\n  }\n\n  close() {\n    this.modalElement.classList.remove('is-open');\n    document.body.style.overflow = '';\n    document.removeEventListener('keydown', this.escapeHandler);\n    this.modalElement.removeEventListener('click', this.closeClickHandler);\n  }\n\n  handleEscape(event) {\n    if (event.key === 'Escape') this.close();\n  }\n\n  handleCloseClick(event) {\n    const closeBtn = this.modalElement.querySelector('.modal_close-btn');\n    const isCloseButtonClick = closeBtn && closeBtn.contains(event.target);\n    const isOverlayClick = event.target === this.modalElement;\n    if (isCloseButtonClick || isOverlayClick) this.close();\n  }\n}\n\nclass ContactModal extends Modal {\n  constructor(modalElement) {\n    super(modalElement);\n    this.form = this.modalElement.querySelector('#contactForm');\n    this.nameInput = this.form.querySelector('#user_name');\n    this.emailInput = this.form.querySelector('#user_email');\n    this.messageInput = this.form.querySelector('#user_message');\n    this.nameErrorContainer = this.form.querySelector(\n      '.contact-form-name .validation-error'\n    );\n    this.emailErrorContainer = this.form.querySelector(\n      '.contact-form-email .validation-error'\n    );\n    this.messageErrorContainer = this.form.querySelector(\n      '.contact-form-message .validation-error'\n    );\n\n    if (!this.form) throw new Error('Contact form not found in the modal');\n    this.submitHandler = this.handleSubmit.bind(this);\n    this.handleNameInput = this.clearErrorContainer.bind(\n      this,\n      this.nameInput,\n      this.nameErrorContainer\n    );\n    this.handleEmailInput = this.clearErrorContainer.bind(\n      this,\n      this.emailInput,\n      this.emailErrorContainer\n    );\n    this.handleMessageInput = this.clearErrorContainer.bind(\n      this,\n      this.messageInput,\n      this.messageErrorContainer\n    );\n  }\n\n  clearErrorContainer(inputElement, errorContainer) {\n    inputElement.classList.remove('invalid');\n    errorContainer.innerText = '';\n  }\n\n  open() {\n    super.open();\n    this.form.addEventListener('submit', this.submitHandler);\n    this.nameInput.addEventListener('focus', this.handleNameInput);\n    this.emailInput.addEventListener('focus', this.handleEmailInput);\n    this.messageInput.addEventListener('focus', this.handleMessageInput);\n  }\n\n  close() {\n    super.close();\n    this.form.removeEventListener('submit', this.submitHandler);\n    this.nameInput.removeEventListener('focus', this.handleNameInput);\n    this.emailInput.removeEventListener('focus', this.handleEmailInput);\n    this.messageInput.removeEventListener('focus', this.handleMessageInput);\n    this.form.reset();\n  }\n\n  validate() {\n    const errorsArr = [];\n    const errorMessage = {\n      name: '❌ Please enter valid Name',\n      email: {\n        valid: '❌ Please enter valid Email',\n        required: '❌ Email is a required field',\n      },\n      message: '❌ Message can not be empty',\n    };\n    // Reset previous validation states\n    this.nameInput.classList.remove('invalid');\n    this.emailInput.classList.remove('invalid');\n    this.messageInput.classList.remove('invalid');\n\n    // Name validation\n    if (this.nameInput.value.trim() === '') {\n      errorsArr.push(errorMessage.name);\n      this.nameInput.classList.add('invalid');\n      this.nameErrorContainer.innerText = errorMessage.name;\n    }\n\n    // simple Email validation\n    const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (this.emailInput.value.trim() === '') {\n      // if empty\n      errorsArr.push(errorMessage.email.required);\n      this.emailInput.classList.add('invalid');\n      this.emailErrorContainer.innerText = errorMessage.email.required;\n    } else if (!emailPattern.test(this.emailInput.value)) {\n      // if invalid\n      errorsArr.push(errorMessage.email.valid);\n      this.emailInput.classList.add('invalid');\n      this.emailErrorContainer.innerText = errorMessage.email.valid;\n    }\n\n    // Message validation\n    if (this.messageInput.value.trim() === '') {\n      errorsArr.push(errorMessage.message);\n      this.messageInput.classList.add('invalid');\n      this.messageErrorContainer.innerText = errorMessage.message;\n    }\n\n    return errorsArr;\n  }\n\n  async handleSubmit(event) {\n    event.preventDefault();\n    const formData = new FormData(this.form);\n    const data = Object.fromEntries(formData.entries());\n\n    // Call the validate method\n    const validationErrors = this.validate();\n    if (validationErrors.length > 0) {\n      return; // Stop the submission\n    }\n\n    try {\n      await this.submitForm(data);\n      iziToast.show({\n        position: 'center',\n        theme: 'light',\n        message: `❤︎ Your registration has been submitted.`,\n      });\n      this.close();\n    } catch (error) {\n      console.error('Form submission error:', error);\n      iziToast.show({\n        position: 'center',\n        theme: 'light',\n        message: `✖ 'There was an error submitting your registration. Please try again.'`,\n      });\n    }\n  }\n\n  async submitForm(data) {\n    console.log('Submitting form data:', data);\n  }\n}\n\n// --- Books Modal Class ---\nclass BooksModal extends Modal {\n  constructor(modalElement) {\n    super(modalElement);\n    this.eventHandler = this.handleEvents.bind(this);\n  }\n\n  async open(bookId) {\n    try {\n      const bookData = await getBookByID(bookId);\n      const dataObj = this.prepareData(bookData);\n      renderBookModal(dataObj);\n\n      if (booksAccordion) booksAccordion.closeAll();\n\n      super.open(); // Call open from the base class after content is ready\n\n      this.form = this.modalElement.querySelector('#bookModalActionForm');\n      if (this.form) {\n        this.form.addEventListener('click', this.eventHandler);\n        this.form.addEventListener('submit', this.eventHandler);\n      }\n    } catch (error) {\n      console.error(`Error loading book with ID ${bookId}:`, error);\n      iziToast.show({\n        position: 'center',\n        theme: 'light',\n        message: `✖ 'Sorry, couldn't load the book details. Please try again later.'`,\n      });\n    }\n  }\n\n  close() {\n    super.close();\n    if (this.form) {\n      this.form.removeEventListener('click', this.eventHandler);\n      this.form.removeEventListener('submit', this.eventHandler);\n    }\n  }\n\n  prepareData(response) {\n    return {\n      bookId: response._id,\n      bookPicture: response.book_image,\n      bookTitle: response.title,\n      bookAuthor: response.author,\n      bookPrice: response.price,\n      bookQuantity: 1,\n      details: response.details || DEFAULT_BOOK_DETAILS.details,\n      shipping: response.shipping || DEFAULT_BOOK_DETAILS.shipping,\n      returns: response.returns || DEFAULT_BOOK_DETAILS.returns,\n    };\n  }\n\n  handleEvents(event) {\n    event.preventDefault();\n    const target = event.target;\n    const action = target.dataset.action;\n\n    switch (action) {\n      case 'decrease':\n        this.updateQuantity(-1);\n        break;\n      case 'increase':\n        this.updateQuantity(1);\n        break;\n      case 'add-to-cart':\n        this.handleAddToCart(target);\n        break;\n      case 'buy-now':\n        this.handleBuyNow();\n        break;\n    }\n\n    if (event.type === 'submit') this.handleBuyNow();\n  }\n\n  updateQuantity(change) {\n    const quantityInput = this.form.querySelector('.quantity-input');\n    let currentValue = parseInt(quantityInput.value);\n    const newValue = currentValue + change;\n\n    if (newValue >= 1) quantityInput.value = newValue;\n  }\n\n  handleAddToCart(button) {\n    const modalData = button.closest('[data-book-id]');\n    const bookId = modalData.dataset.bookId;\n    const quantity = parseInt(this.form.querySelector('.quantity-input').value);\n\n    iziToast.show({\n      iconUrl: '/img/icons.svg',\n      theme: 'light',\n      progressBar: true,\n      message: `Book (${quantity} pcs) added`,\n      target: '.modal-books_message-container',\n      timeout: 3000,\n      // replace izitost image tag to use sprite\n      onOpening: function (instance, toast) {\n        replaceIziToastIcon(toast, '/img/icons.svg#icon-shopping-basket');\n      },\n    });\n\n    console.log(`Book with ID '${bookId}' (qty: ${quantity}) added to Cart.`);\n    console.log(`Total ID '${bookId}' in Cart: ${getFromCartByID(bookId)}`);\n\n    addToCart(bookId, quantity);\n  }\n\n  handleBuyNow() {\n    console.log('\"Buy Now\" clicked.');\n    iziToast.show({\n      iconUrl: '/img/icons.svg',\n      position: 'center',\n      theme: 'light',\n      message: `Thanks for buying!`,\n      timeout: 3000,\n      onOpening: function (instance, toast) {\n        replaceIziToastIcon(toast, '/img/icons.svg#icon-shopping-basket');\n      },\n    });\n\n    this.close();\n  }\n}\n\n/**  * Replaces the default <img> icon in an iziToast notification with a\n  custom <svg> element that uses a sprite icon.\n*\n* This function is a workaround to use SVG sprites with iziToast, which natively  \n* only supports direct image URLs. It finds the <img> icon element within the toast\n* and replaces it with a programmatically created <svg> and <use> element.  \n* It is critical to call this function within the `onOpening` callback of `iziToast.show()`,\n* as this guarantees the toast element exists in the DOM and is ready for manipulation.\n*\n* @private\n* @param {HTMLElement} toastElement - The toast DOM element, provided by the `onOpening` callback.\n* @param {string} iconHref - The full path to the SVG icon within the sprite file (e.g., '/img/icons.svg#icon-shopping-basket').\n* @returns {void}\n*/\nfunction replaceIziToastIcon(toastElement, iconHref) {\n  const imgElement = toastElement.querySelector('.iziToast-icon');\n  if (imgElement) {\n    const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    svg.setAttribute(\n      'class',\n      `${imgElement.getAttribute('class')} revealIn customIziToastIcon`\n    );\n    svg.setAttribute('width', '24');\n    svg.setAttribute('height', '24');\n    const use = document.createElementNS('http://www.w3.org/2000/svg', 'use');\n    use.setAttributeNS('http://www.w3.org/1999/xlink', 'href', iconHref);\n\n    svg.appendChild(use);\n    imgElement.parentNode.replaceChild(svg, imgElement);\n  }\n}\n\n// --- Initialization ---\nconst contactModalElement = document.querySelector('.modal-contacts');\nconst booksModalElement = document.querySelector('.modal-books');\n\nlet contactModal, booksModal;\n\nif (contactModalElement) {\n  contactModal = new ContactModal(contactModalElement);\n}\n\nif (booksModalElement) {\n  booksModal = new BooksModal(booksModalElement);\n}\n\n/**\n * Opens the contacts modal and dynamically sets its description text.\n * If no event name is provided, it will use a default string.\n * @param {string} booksyEvent - The name of the event or context to display in the modal's description.\n */\nexport function openContactsModal(booksyEvent = `Children’s Story Hour`) {\n  if (contactModal) {\n    document.querySelector('#modalDesc').textContent = booksyEvent;\n    contactModal.open();\n  } else {\n    console.error('Contact modal is not initialized.');\n  }\n}\n\n/**\n * Opens the books modal and fetches the details for a specific book.\n * If no id is provided, it will use a default string.\n * @param {string} bookId - The unique ID of the book to display.\n */\nexport function openBooksModal(bookId = '660df41ba957e5c1ae0f519e') {\n  if (booksModal) {\n    booksModal.open(bookId);\n  } else {\n    console.error('Books modal is not initialized.');\n  }\n}\n\n//#region @TODO delete before deployment\nwindow.openBooksModal = openBooksModal;\n// openBooksModal();\n// openContactsModal();\nwindow.openContactsModal = openContactsModal;\n//#endregion @TODO delete before deployment\n","import { getTopBooks, getBooksByCategory, getCategoryList } from \"./products-api\";\nimport { openBooksModal } from \"./modal\";\n\nconst gallery = document.querySelector(\".gallery\");\nconst select = document.querySelector(\"#category-select\");\nconst showMore = document.querySelector(\".btn-show-more\");\nconst visibleCounter = document.querySelector(\".visible-books\");\nconst totalCounter = document.querySelector(\".total-books\");\nconst list = document.querySelector(\".categories-list\");\nconst arrow = document.querySelector(\".categories-arrow\");\n\nconst loader = document.querySelector(\".loader\")\n\nlet allBooks = [];\nlet visibleCount = 0;\n\nfunction showLoader() {\n  loader.classList.remove(\"hidden\");\n}\nfunction hideLoader() {\n  loader.classList.add(\"hidden\");\n}\n\nlet currentBreakpoint = window.innerWidth < 768 ? \"mobile\" : \"desktop\";\n\n// Завантаження категорій\nshowLoader();\nconst categoryList = await getCategoryList();\nrenderCategoriesList(categoryList);\n\n\n// Завантаження топ-книг\nconst topBooksData = await getTopBooks();\nallBooks = topBooksData.flatMap(({ books }) => books);\nrenderBooks();\nhideLoader();\n\nfunction renderCategoriesList(categories) {\n  select.innerHTML = '<option selected value=\"All categories\">All categories</option>';\n  list.innerHTML = '<li><button class=\"category-btn active-category\" value=\"All categories\">All categories</button></li>';\n\n  categories.forEach(cat => {\n    const option = document.createElement(\"option\");\n    option.value = cat;\n    option.textContent = cat;\n    select.appendChild(option);\n\n    const item = document.createElement(\"li\");\n    item.classList.add(\"category-item\");\n    const button = document.createElement(\"button\");\n    button.value = cat;\n    button.textContent = cat;\n    button.classList.add(\"category-btn\");\n    item.appendChild(button);\n    list.appendChild(item);\n  });\n}\n\nasync function selectCategory(category) {\n  showLoader(); // показуємо лоадер\n\n  select.value = category;\n\n  list.querySelectorAll(\".category-btn\").forEach(btn =>\n    btn.classList.toggle(\"active-category\", btn.value === category)\n  );\n\n  try {\n    if (category === \"All categories\") {\n      const topBooksData = await getTopBooks();\n      allBooks = topBooksData.flatMap(({ books }) => books);\n    } else {\n      allBooks = await getBooksByCategory(category);\n    }\n\n    visibleCount = getInitialCount();\n    renderBooks();\n  } catch (error) {\n    console.error(\"Помилка при завантаженні книг:\", error);\n    gallery.innerHTML = '<li class=\"no-books\">Failed to load books</li>';\n  } finally {\n    hideLoader(); // ховаємо лоадер завжди — навіть якщо сталася помилка\n  }\n}\n\nselect.addEventListener(\"change\", e => {\n  const category = e.target.value;\n  selectCategory(category);\n});\n\nlist.addEventListener(\"click\", e => {\n  if (e.target.tagName !== \"BUTTON\") return;\n  const category = e.target.value;\n  selectCategory(category);\n});\n\nshowMore.addEventListener(\"click\", () => {\n  visibleCount += 4;\n  updateBooksList();\n  showMore.blur();\n});\n\nfunction renderBooks() {\n  visibleCount = getInitialCount();\n  updateBooksList();\n  totalCounter.textContent = allBooks.length;\n\n  if (visibleCount >= allBooks.length) {\n    showMore.classList.add(\"btn-show-more-hidden\");\n  }\n\n  if (visibleCount < allBooks.length) {\n    showMore.classList.remove(\"btn-show-more-hidden\");\n  }\n}\n\nfunction updateBooksList() {\n  const currentSlice = allBooks.slice(0, visibleCount);\n  showLoader();\n\n  // Відкласти важке оновлення DOM, щоб лоадер промалювався\n  requestAnimationFrame(() => {\n    setTimeout(() => {\n      if (currentSlice.length === 0) {\n        gallery.innerHTML = '<li class=\"no-books\">No books found</li>';\n        visibleCounter.textContent = 0;\n        showMore.classList.add(\"btn-show-more-hidden\");\n        hideLoader();\n        return;\n      }\n\n      gallery.innerHTML = createMarkup(currentSlice);\n      visibleCounter.textContent = Math.min(visibleCount, allBooks.length);\n      showMore.disabled = false;\n\n      if (visibleCount >= allBooks.length) {\n        showMore.classList.add(\"btn-show-more-hidden\");\n      } else {\n        showMore.classList.remove(\"btn-show-more-hidden\");\n      }\n\n      hideLoader();\n    }, 100); // ця затримка потрібна, щоб браузер встиг показати лоадер\n  });\n}\n\nfunction getInitialCount() {\n  return window.innerWidth < 768 ? 10 : 24;\n}\n\nwindow.addEventListener(\"resize\", debounce(() => {\n  const newBreakpoint = window.innerWidth < 768 ? \"mobile\" : \"desktop\";\n  if (newBreakpoint !== currentBreakpoint) {\n    currentBreakpoint = newBreakpoint;\n    renderBooks();\n  }\n}, 300));\n\nfunction debounce(func, wait) {\n  let timeout;\n  return (...args) => {\n    clearTimeout(timeout);\n    timeout = setTimeout(() => func(...args), wait);\n  };\n}\n\ngallery.addEventListener(\"click\", event => {\n  const btn = event.target.closest(\".btn-book\");\n  if (!btn) return;\n  const bookId = btn.dataset.id;\n  openBooksModal(bookId);\n});\n\n// SVG стрілка обертання при фокусі\nselect.addEventListener(\"focus\", () => {\n  arrow.style.transform = \"translateY(-50%) rotate(180deg)\";\n});\n\nselect.addEventListener(\"blur\", () => {\n  arrow.style.transform = \"translateY(-50%)\";\n});\n\nselect.addEventListener(\"change\", () => {\n  arrow.style.transform = \"translateY(-50%)\";\n});\n\nfunction createMarkup(data) {\n  return data.map(({ title, author, book_image, price, _id }) => {\n    let displayPrice;\n\n    if (typeof price === 'string' && price.trim() !== '0.00') {\n      displayPrice = price.trim();\n    } else if (typeof price === 'number') {\n      displayPrice = price.toFixed(2);\n    } else {\n      displayPrice = '9.99';\n    }\n\n    return `\n    <li class=\"book-card\">\n      <img class=\"book-cover\" src=\"${book_image}\" alt=\"${title}\" width=\"150\" />\n      <div class=\"book-card-info\">\n        <div class=\"book-card-descriptions\">\n          <h3 class=\"book-card-title\">${title.toLowerCase()}</h3>\n          <h4 class=\"book-card-author\">${author}</h4>\n        </div>\n        <p class=\"book-price\">$${displayPrice}</p>\n      </div>\n      <button type=\"button\" class=\"btn-secondary btn-book\" data-id=\"${_id}\">Learn more</button>\n    </li>\n  `}).join('');\n}","const slider = document.querySelector('.slider-feedbacks');\nconst desktopOnlyItems = slider.querySelectorAll('.feedbacks-desktop-only');\n\nfunction updateDesktopOnlySlides() {\n  const isDesktop = window.innerWidth >= 1440;\n  desktopOnlyItems.forEach(item => {\n    item.style.display = isDesktop ? 'block' : 'none';\n  });\n}\n\nupdateDesktopOnlySlides();\n\nconst feedbacksSwiper = new Swiper('.slider-feedbacks', {\n  slidesPerView: 1,\n  loop: false,\n\n  pagination: {\n    el: '.swiper-pagination-feedbacks',\n    clickable: true,\n    renderBullet: (index, className) =>\n      index > 3 ? '' : `<span class=\"${className}\" tabindex=\"0\"></span>`,\n  },\n\n  navigation: {\n    nextEl: '.slider-navigation-feedbacks .swiper-button-next-feedbacks',\n    prevEl: '.slider-navigation-feedbacks .swiper-button-prev-feedbacks',\n    disabledClass: 'slider-button-disabled',\n  },\n\n  touchRatio: 1,\n  simulateTouch: true,\n\n  keyboard: {\n    enabled: true,\n    onlyInViewport: true,\n  },\n\n  a11y: {\n    enabled: true,\n    prevSlideMessage: 'Попередній слайд',\n    nextSlideMessage: 'Наступний слайд',\n    slideLabelMessage: '{{index}} з {{slidesLength}}',\n    paginationBulletMessage: 'Перейти до слайда {{index}}',\n  },\n\n  mousewheel: {\n    invert: false,\n    sensitivity: 1,\n  },\n\n  breakpoints: {\n    768: { slidesPerView: 2 },\n    1440: { slidesPerView: 3 },\n  },\n});\n\nlet wasDesktop = window.innerWidth >= 1440;\nwindow.addEventListener('resize', () => {\n  const isDesktop = window.innerWidth >= 1440;\n  if (isDesktop !== wasDesktop) {\n    updateDesktopOnlySlides();\n    feedbacksSwiper.update();\n    wasDesktop = isDesktop;\n  }\n});\n\ndocument\n  .querySelectorAll('.swiper-button-prev-feedbacks, .swiper-button-next-feedbacks')\n  .forEach(btn => btn.addEventListener('mouseup', () => btn.blur()));\n","import Swiper from 'swiper/bundle';\nimport 'swiper/css/bundle';\nimport { openContactsModal } from './modal.js';\nlet eventsSwiper = null;\nconst registerBtns = document.querySelectorAll('.event-register-btn');\nfunction initEventsSwiper() {\n  const screenWidth = window.innerWidth;\n  if (screenWidth < 1440 && !eventsSwiper) {\n    eventsSwiper = new Swiper('.swiper', {\n      slidesPerView: 1,\n      spaceBetween: 24,\n      pagination: {\n        el: '.events-pagination',\n        clickable: true,\n      },\n      navigation: {\n        nextEl: '.events-swiper-btn-next',\n        prevEl: '.events-swiper-btn-prev',\n      },\n      keyboard: {\n        enabled: true,\n        onlyInViewport: true,\n      },\n      watchOverflow: true,\n      breakpoints: {\n        768: {\n          slidesPerView: 2,\n        },\n      },\n    });\n  } else if (screenWidth >= 1440 && eventsSwiper) {\n    eventsSwiper.destroy(true, true);\n    eventsSwiper = null;\n  }\n}\nfunction debounce(func, wait) {\n  let timeout;\n  return function (...args) {\n    clearTimeout(timeout);\n    timeout = setTimeout(() => func.apply(this, args), wait);\n  };\n}\nconst debouncedInitEventsSwiper = debounce(initEventsSwiper, 200);\ninitEventsSwiper();\nwindow.addEventListener('resize', debouncedInitEventsSwiper);\nregisterBtns.forEach(btn => {\n  btn.addEventListener('click', () => {\n    const eventName = btn.dataset.event || 'book-registration';\n    openContactsModal(eventName);\n  });\n});\n","import { debounce } from './helpers';\n\n\nexport function initScrollToTopBtn(selector = '.scroll-top') {\n  const scrollBtn = document.querySelector(selector);\n\n  if (!scrollBtn) return;\n\n\n\n  const toggleButtonVisibility = () => {\n    const isMobile = window.innerWidth < 768;\n    if (!isMobile && window.scrollY > 300) {\n      scrollBtn.classList.add('show');\n    } else {\n      scrollBtn.classList.remove('show');\n    }\n  };\n\n  const debouncedToggle = debounce(toggleButtonVisibility, 100);\n\n  window.addEventListener('scroll', debouncedToggle, { passive: true });\n  window.addEventListener('resize', toggleButtonVisibility, { passive: true });\n  window.addEventListener('orientationchange', toggleButtonVisibility, {\n    passive: true,\n  });\n\n  scrollBtn.addEventListener('click', () => {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  });\n\n  toggleButtonVisibility(); // Initialization after page load\n}\n\ninitScrollToTopBtn() // Виклик функції для ініціалізації кнопки \"Повернутися вгору\"\n","import './js/header.js';\nimport './js/hero.js';\nimport './js/books.js';\nimport './js/feedback.js';\nimport './js/events.js';\nimport './js/footer.js';\nimport './js/button-up.js';\nimport './js/modal.js';\n\n// @TODO remove before production deployment\nimport { testAPI } from './js/products-api.js';\ntestAPI();\n// @TODO remove before production deployment\n"],"names":["refs","isAnimationInProgress","toggleMobMenu","open","onTransitionEnd","event","e","debounce","func","delay","timeout","args","initSlider","containerSelector","prevSelector","nextSelector","root","prevBtn","nextBtn","swiper","Swiper","sw","updateArrows","btn","heroSlider","BASE_URL","apiClient","axios","fetchURL","url","data","error","getCategoryList","getTopBooks","getBooksByCategory","category","getBookByID","id","testAPI","catList","topBooks","booksByCategory","renderBookModal","dataObj","CART_STORAGE_KEY","addToCart","bookID","bookQuantity","cart","getFullCart","currentQuantity","saveCart","getFromCartByID","cartData","DEFAULT_BOOK_DETAILS","booksAccordion","Accordion","Modal","modalElement","closeBtn","isCloseButtonClick","isOverlayClick","ContactModal","inputElement","errorContainer","errorsArr","errorMessage","emailPattern","formData","iziToast","BooksModal","bookId","bookData","response","target","change","quantityInput","newValue","button","quantity","instance","toast","replaceIziToastIcon","toastElement","iconHref","imgElement","svg","use","contactModalElement","booksModalElement","contactModal","booksModal","openContactsModal","booksyEvent","openBooksModal","gallery","select","showMore","visibleCounter","totalCounter","list","arrow","loader","allBooks","visibleCount","showLoader","hideLoader","currentBreakpoint","categoryList","renderCategoriesList","topBooksData","books","renderBooks","categories","cat","option","item","selectCategory","getInitialCount","updateBooksList","currentSlice","createMarkup","newBreakpoint","wait","title","author","book_image","price","_id","displayPrice","slider","desktopOnlyItems","updateDesktopOnlySlides","isDesktop","feedbacksSwiper","index","className","wasDesktop","eventsSwiper","registerBtns","initEventsSwiper","screenWidth","debouncedInitEventsSwiper","eventName","initScrollToTopBtn","selector","scrollBtn","toggleButtonVisibility","debouncedToggle"],"mappings":"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"}