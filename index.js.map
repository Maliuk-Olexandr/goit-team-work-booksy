{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/header.js","../src/js/modal.js","../src/js/products-api.js","../src/main.js"],"sourcesContent":["//Обʼєкт з посиланнями на ДОМ елементи\n\nconst refs = {\n  mobMenu: document.querySelector('.mobile-menu'),  // мобільне меню в хедері\n  body: document.body,                              // тіло документа\n};\n\nexport default refs;\n\n\n\n","import refs from './refs';\n\nlet isAnimationInProgress = false;\n\nconst toggleMobMenu = open => {\n  if (isAnimationInProgress) return;\n\n  isAnimationInProgress = true;\n  refs.mobMenu.classList.toggle('is-open', open);\n  refs.body.classList.toggle('no-scroll', open);\n\n  // Додаємо слухача на завершення transition тільки один раз\n  const onTransitionEnd = event => {\n    if (event.target === refs.mobMenu) {\n      isAnimationInProgress = false;\n      refs.mobMenu.removeEventListener('transitionend', onTransitionEnd);\n    }\n  };\n\n  refs.mobMenu.addEventListener('transitionend', onTransitionEnd);\n};\n\ndocument.addEventListener('click', e => {\n  if (e.target.closest('[data-menu-open]')) {\n    toggleMobMenu(true);\n  } else if (e.target.closest('[data-menu-close], .mobile-link')) {\n    toggleMobMenu(false);\n  }\n});","//Описана робота модалки - відкриття закриття і все що з модалкою повʼязано\nimport Accordion from 'accordion-js';\nimport 'accordion-js/dist/accordion.min.css';\n// import refs from './refs';\n\nconst refs = {\n  modalBooks: document.querySelector('.modal-books'),\n  modalBooksCloseBtn: document.querySelector('.modal-books_close-btn'),\n  modalAccordion: document.querySelector('.accordion-container'),\n};\nnew Accordion(refs.modalAccordion);\n\nfunction openBooksModal() {\n  document.body.style.overflow = 'hidden';\n  refs.modalBooks.classList.add('is-open');\n}\nwindow.openBooksModal = openBooksModal;\n\nfunction closeBooksModal() {\n  refs.modalBooks.classList.remove('is-open');\n  document.body.style.overflow = '';\n}\n\nrefs.modalBooks.addEventListener('click', event => {\n  if (event.target === event.currentTarget) closeBooksModal();\n  if (refs.modalBooksCloseBtn.contains(event.target)) {\n    closeBooksModal();\n  }\n  // console.log('modalBooks click event');\n});\n","import axios from 'axios';\n\nconst BASE_URL = 'https://books-backend.p.goit.global/books';\n\n/**\n * Helper function to make API requests to the base URL.\n * Handles basic error logging.\n * @param {string} url - The endpoint URL relative to BASE_URL.\n * @returns {Promise<Object|Array>} - The data returned from the API.\n */\nasync function fetchURL(url = '') {\n  try {\n    const { data } = await axios.get(BASE_URL + url);\n    return data;\n  } catch (error) {\n    console.error('Error fetching data:', error.message);\n    throw error;\n  }\n}\n\n/**\n * Fetches the list of book categories from the API\n * @returns {Promise<Array>} Array of category names (list_name property from each category object)\n */\nexport async function GetCategoryList() {\n  const list = await fetchURL('/category-list');\n  return list.map(e => e.list_name);\n}\n\n/**\n * Fetches the list of top 5 books in each categorie from the API\n * @returns {Promise<Object>} Object of book categories, each containing details about the 5 books within that category\n */\nexport async function getTopBooks() {\n  return await fetchURL(`/top-books`);\n}\n\n/**\n * Fetches the list books in certain categorie from the API\n * @param {string} category - The name of the category to fetch books for.\n * @returns {Promise<Object>} Object of books in that category\n */\nexport async function getBooksByCategory(category) {\n  return await fetchURL(`/category?category=${category}`);\n}\n\n/**\n * Fetches the list of book details by ID from the API\n * @param {string} id - The unique ID of the book.\n * @returns {Promise<Object>} An object containing the book's details.\n */\nexport async function getBookByID(id) {\n  return await fetchURL(`/${id}`);\n}\n\n// start TODO: Remove this test code before production deployment.\nexport async function testAPI() {\n  try {\n    console.log('\\x1b[32mtestAPI() start ------------\\x1b[0m');\n    console.log('GetCategoryList():', await GetCategoryList());\n    console.log('getTopBooks():', await getTopBooks());\n    console.log(\n      'getBooksByCategory(\"Audio Nonfiction\"):',\n      await getBooksByCategory('Audio Nonfiction')\n    );\n    console.log(\n      'getBookByID(\"643282b1e85766588626a0b4\"):',\n      await getBookByID('643282b1e85766588626a0b4')\n    );\n    console.log('\\x1b[32mtestAPI() end ------------\\x1b[0m');\n  } catch (error) {\n    console.error('API test failed:', error);\n  }\n}\n// end TODO: Remove this test code before production deployment.\n","import './js/header.js';\nimport './js/hero.js';\nimport './js/books.js';\nimport './js/feedback.js';\nimport './js/events.js';\nimport './js/footer.js';\nimport './js/modal.js';\n\n// @TODO remove before production deployment\nimport { testAPI } from './js/products-api.js';\ntestAPI();\n// @TODO remove before production deployment\n"],"names":["refs","isAnimationInProgress","toggleMobMenu","open","onTransitionEnd","event","e","Accordion","openBooksModal","closeBooksModal","BASE_URL","fetchURL","url","data","axios","error","GetCategoryList","getTopBooks","getBooksByCategory","category","getBookByID","id","testAPI"],"mappings":"6vBAEA,MAAMA,EAAO,CACX,QAAS,SAAS,cAAc,cAAc,EAC9C,KAAM,SAAS,IACjB,ECHA,IAAIC,EAAwB,GAE5B,MAAMC,EAAgBC,GAAQ,CAC5B,GAAIF,EAAuB,OAE3BA,EAAwB,GACxBD,EAAK,QAAQ,UAAU,OAAO,UAAWG,CAAI,EAC7CH,EAAK,KAAK,UAAU,OAAO,YAAaG,CAAI,EAG5C,MAAMC,EAAkBC,GAAS,CAC3BA,EAAM,SAAWL,EAAK,UACxBC,EAAwB,GACxBD,EAAK,QAAQ,oBAAoB,gBAAiBI,CAAe,EAEvE,EAEEJ,EAAK,QAAQ,iBAAiB,gBAAiBI,CAAe,CAChE,EAEA,SAAS,iBAAiB,QAASE,GAAK,CAClCA,EAAE,OAAO,QAAQ,kBAAkB,EACrCJ,EAAc,EAAI,EACTI,EAAE,OAAO,QAAQ,iCAAiC,GAC3DJ,EAAc,EAAK,CAEvB,CAAC,ECvBD,MAAMF,EAAO,CACX,WAAY,SAAS,cAAc,cAAc,EACjD,mBAAoB,SAAS,cAAc,wBAAwB,EACnE,eAAgB,SAAS,cAAc,sBAAsB,CAC/D,EACA,IAAIO,EAAUP,EAAK,cAAc,EAEjC,SAASQ,GAAiB,CACxB,SAAS,KAAK,MAAM,SAAW,SAC/BR,EAAK,WAAW,UAAU,IAAI,SAAS,CACzC,CACA,OAAO,eAAiBQ,EAExB,SAASC,GAAkB,CACzBT,EAAK,WAAW,UAAU,OAAO,SAAS,EAC1C,SAAS,KAAK,MAAM,SAAW,EACjC,CAEAA,EAAK,WAAW,iBAAiB,QAASK,GAAS,CAC7CA,EAAM,SAAWA,EAAM,eAAeI,EAAe,EACrDT,EAAK,mBAAmB,SAASK,EAAM,MAAM,GAC/CI,EAAe,CAGnB,CAAC,EC3BD,MAAMC,EAAW,4CAQjB,eAAeC,EAASC,EAAM,GAAI,CAChC,GAAI,CACF,KAAM,CAAE,KAAAC,CAAI,EAAK,MAAMC,EAAM,IAAIJ,EAAWE,CAAG,EAC/C,OAAOC,CACX,OAAWE,EAAO,CACd,cAAQ,MAAM,uBAAwBA,EAAM,OAAO,EAC7CA,CACV,CACA,CAMO,eAAeC,GAAkB,CAEtC,OADa,MAAML,EAAS,gBAAgB,GAChC,IAAIL,GAAKA,EAAE,SAAS,CAClC,CAMO,eAAeW,GAAc,CAClC,OAAO,MAAMN,EAAS,YAAY,CACpC,CAOO,eAAeO,EAAmBC,EAAU,CACjD,OAAO,MAAMR,EAAS,sBAAsBQ,CAAQ,EAAE,CACxD,CAOO,eAAeC,EAAYC,EAAI,CACpC,OAAO,MAAMV,EAAS,IAAIU,CAAE,EAAE,CAChC,CAGO,eAAeC,GAAU,CAC9B,GAAI,CACF,QAAQ,IAAI,6CAA6C,EACzD,QAAQ,IAAI,qBAAsB,MAAMN,EAAe,CAAE,EACzD,QAAQ,IAAI,iBAAkB,MAAMC,EAAW,CAAE,EACjD,QAAQ,IACN,0CACA,MAAMC,EAAmB,kBAAkB,CACjD,EACI,QAAQ,IACN,2CACA,MAAME,EAAY,0BAA0B,CAClD,EACI,QAAQ,IAAI,2CAA2C,CAC3D,OAAWL,EAAO,CACd,QAAQ,MAAM,mBAAoBA,CAAK,CAC3C,CACA,CC/DAO,EAAO"}