{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/header.js","../src/js/products-api.js","../src/js/books.js","../src/js/render-function.js","../src/js/storage.js","../src/js/modal.js","../src/main.js"],"sourcesContent":["//Обʼєкт з посиланнями на ДОМ елементи\n\nconst refs = {\n  mobMenu: document.querySelector('.mobile-menu'),  // мобільне меню в хедері\n  body: document.body,                              // тіло документа\n};\n\nexport default refs;\n\n\n\n","import refs from './refs';\n\nlet isAnimationInProgress = false;\n\nconst toggleMobMenu = open => {\n  if (isAnimationInProgress) return;\n\n  isAnimationInProgress = true;\n  refs.mobMenu.classList.toggle('is-open', open);\n  refs.body.classList.toggle('no-scroll', open);\n\n  // Додаємо слухача на завершення transition тільки один раз\n  const onTransitionEnd = event => {\n    if (event.target === refs.mobMenu) {\n      isAnimationInProgress = false;\n      refs.mobMenu.removeEventListener('transitionend', onTransitionEnd);\n    }\n  };\n\n  refs.mobMenu.addEventListener('transitionend', onTransitionEnd);\n};\n\ndocument.addEventListener('click', e => {\n  if (e.target.closest('[data-menu-open]')) {\n    toggleMobMenu(true);\n  } else if (e.target.closest('[data-menu-close], .mobile-link')) {\n    toggleMobMenu(false);\n  }\n});","import axios from 'axios';\n\nconst BASE_URL = 'https://books-backend.p.goit.global/books';\nconst apiClient = axios.create({ baseURL: BASE_URL });\n\n/**\n * Helper function to make API requests to the base URL.\n * Handles basic error logging.\n * @param {string} url - The endpoint URL relative to BASE_URL.\n * @returns {Promise<Object|Array>} - The data returned from the API.\n */\nasync function fetchURL(url = '') {\n  try {\n    const { data } = await apiClient.get(url);\n    return data;\n  } catch (error) {\n    console.error('Error fetching data:', error.message);\n    throw error;\n  }\n}\n\n/**\n * Fetches the list of book categories from the API\n * @returns {Promise<Array>} Array of category names (list_name property from each category object)\n */\nexport async function getCategoryList() {\n  const list = await fetchURL('/category-list');\n  return list.map(e => e.list_name);\n}\n\n/**\n * Fetches the list of top 5 books in each categorie from the API\n * @returns {Promise<Object>} Object of book categories, each containing details about the 5 books within that category\n */\nexport async function getTopBooks() {\n  return await fetchURL(`/top-books`);\n}\n\n/**\n * Fetches the list books in certain categorie from the API\n * @param {string} category - The name of the category to fetch books for.\n * @returns {Promise<Object>} Object of books in that category\n */\nexport async function getBooksByCategory(category) {\n  if (!category) {\n    const error = new Error('Valid category must be provided.');\n    console.error(error);\n    throw error;\n  }\n  return await fetchURL(`/category?category=${category}`);\n}\n\n/**\n * Fetches the list of book details by ID from the API\n * @param {string} id - The unique ID of the book.\n * @returns {Promise<Object>} An object containing the book's details.\n */\nexport async function getBookByID(id) {\n  if (!id) {\n    const error = new Error('Valid book ID must be provided.');\n    console.error(error);\n    throw error;\n  }\n  return await fetchURL(`/${id}`);\n}\n\n// start TODO: Remove this test code before production deployment.\nexport async function testAPI() {\n  try {\n    const catList = await getCategoryList();\n    const topBooks = await getTopBooks();\n    const booksByCategory = await getBooksByCategory(catList[0]);\n    const id = booksByCategory[0]._id;\n    console.log('\\x1b[32mtestAPI() start ------------\\x1b[0m');\n    console.log('\\x1b[32m1. getCategoryList():\\x1b[0m', catList);\n    console.log('\\x1b[32m2. getTopBooks():\\x1b[0m', topBooks);\n    console.log(\n      `\\x1b[32m3. getBooksByCategory('${catList[0]}'):\\x1b[0m`,\n      booksByCategory\n    );\n    console.log(`\\x1b[32m4. getBookByID(\"${id}\"):`, await getBookByID(id));\n    console.log('\\x1b[32mtestAPI() end ------------\\x1b[\\x1b[0m');\n  } catch (error) {\n    console.error('API test failed:', error);\n  }\n}\n// end TODO: Remove this test code before production deployment.\n","import { getTopBooks, getBooksByCategory, getCategoryList } from \"./products-api\";\n\nconst gallery = document.querySelector(\".gallery\");\nconst select = document.querySelector(\"#category-select\");\nconst showMore = document.querySelector(\".btn-show-more\");\nconst visibleCounter = document.querySelector(\".visible-books\");\nconst totalCounter = document.querySelector(\".total-books\");\nconst list = document.querySelector(\".categories-list\");\n\nlet allBooks = [];\nlet visibleCount = 0;\n\n// Завантажуємо категорії\nconst categoryList = await getCategoryList();\nrenderCategoriesList(categoryList);\n\n// Завантажуємо топ-книги\nconst topBooksData = await getTopBooks();\nallBooks = topBooksData.flatMap(({ books }) => books);\nrenderBooks();\n\n// Рендер селекту та списку категорій\nfunction renderCategoriesList(categories) {\n  select.innerHTML = '<option selected value=\"All categories\">All categories</option>';\n  list.innerHTML = '<li><button class=\"category-btn active-category\" value=\"All categories\">All categories</button></li>';\n\n  categories.forEach(cat => {\n    const option = document.createElement(\"option\");\n    option.value = cat;\n    option.textContent = cat;\n    select.appendChild(option);\n\n    const item = document.createElement(\"li\");\n    item.classList.add(\"category-item\")\n    const button = document.createElement(\"button\");\n    button.value = cat;\n    button.textContent = cat;\n    button.classList.add(\"category-btn\");\n    item.appendChild(button);\n    list.appendChild(item);\n  });\n}\n\n// Універсальний обробник вибору категорії\nasync function selectCategory(category) {\n  select.value = category;\n\n  // Активна кнопка\n  list.querySelectorAll(\".category-btn\").forEach(btn =>\n    btn.classList.toggle(\"active-category\", btn.value === category)\n  );\n\n  if (category === \"All categories\") {\n    const topBooksData = await getTopBooks();\n    allBooks = topBooksData.flatMap(({ books }) => books);\n  } else {\n    allBooks = await getBooksByCategory(category);\n  }\n\n  renderBooks();\n}\n\n// Вибір через select\nselect.addEventListener(\"change\", e => {\n  const category = e.target.value;\n  selectCategory(category);\n});\n\n// Вибір через список кнопок\nlist.addEventListener(\"click\", e => {\n  if (e.target.tagName !== \"BUTTON\") return;\n  const category = e.target.value;\n  selectCategory(category);\n});\n\n// Кнопка Show More\nshowMore.addEventListener(\"click\", () => {\n  visibleCount += 4;\n  updateBooksList();\n  showMore.blur();\n});\n\n// Рендер книг\nfunction renderBooks() {\n  showMore.classList.remove(\"btn-show-more-hidden\");\n  visibleCount = getInitialCount();\n  updateBooksList();\n  if (visibleCount >= allBooks.length) {\n    showMore.classList.add(\"btn-show-more-hidden\");\n  }\n  totalCounter.textContent = allBooks.length;\n}\n\n// Оновлення списку книг\nfunction updateBooksList() {\n  const currentSlice = allBooks.slice(0, visibleCount);\n  gallery.innerHTML = createMarkup(currentSlice);\n  visibleCounter.textContent = Math.min(visibleCount, allBooks.length);\n  showMore.disabled = false;\n  if (visibleCount >= allBooks.length) {\n    showMore.classList.add(\"btn-show-more-hidden\");\n  }\n}\n\n// Стартова кількість книжок\nfunction getInitialCount() {\n  return window.innerWidth < 768 ? 10 : 24;\n}\n\n// Перерендер при зміні ширини екрана\nwindow.addEventListener(\"resize\", () => {\n  renderBooks();\n});\n\n// HTML-розмітка однієї книги\nfunction createMarkup(data) {\n  return data.map(({ title, author, book_image, price }) => `\n    <li class=\"book-card\">\n      <img class=\"book-cover\" src=\"${book_image}\" alt=\"${title}\" width=\"150\" />\n      <div class=\"book-card-info\">\n        <div class=\"book-card-descriptions\">\n          <h3 class=\"book-card-title\">${title.toLowerCase()}</h3>\n          <h4 class=\"book-card-author\">${author}</h4>\n        </div>\n        <p class=\"book-price\">$${price}</p>\n      </div>\n      <button class=\"btn-secondary btn-book\">Learn more</button>\n    </li>\n  `).join('');\n}","//Функцію для створення, рендеру або видалення розмітки\n\n//#region Book Modal Render\nexport function renderBookModal(reference, dataObj) {\n  const markup = bookModalMarkup(dataObj);\n  reference.querySelector('.modal-content').innerHTML = markup;\n}\n\nfunction bookModalMarkup(obj) {\n  const {\n    bookId,\n    bookPicture,\n    bookTitle,\n    bookAuthor,\n    bookPrice,\n    bookQuantity,\n    details,\n    shipping,\n    returns,\n  } = obj;\n\n  return `      \n      <button class=\"modal_close-btn\">\n        <svg>\n          <use xlink:href=\"/img/icons.svg#icon-close\"></use>\n        </svg>\n      </button>\n        <picture class=\"modal-books_picture\" id=\"bookPicture\">\n        <img\n          class=\"modal-books_img\"\n          src=\"${bookPicture}\"\n          alt=\"\"\n        />\n      </picture>\n      <div class=\"modal-books_data\"\n        data-book-id=\"${bookId}\"\n        data-book-price=\"${bookPrice}\"\n        data-book-title=\"${bookTitle}\"\n      >\n        <h2 class=\"modal-books_title\">${bookTitle}</h2>\n        <p class=\"modal-books_author\">${bookAuthor}</p>\n        <p class=\"modal-books_price\">$${bookPrice}</p>\n\n        <form class=\"book-action-form\" id=\"bookModalActionForm\">\n          <div class=\"modal-books_quantity-container\"\n            data-min-quantity=\"1\" \n            data-max-quantity=\"999\" \n            data-step=\"1\"\n          >\n            <button class=\"btn btn-secondary\"\n              type=\"button\"\n              class=\"btn btn-secondary\"\n              data-action=\"decrease\"\n            >-</button>\n            <input\n              class=\"quantity-input\"\n              id=\"bookQuantity\"\n              value=\"${bookQuantity}\"\n              min=\"1\"\n            />\n            <button class=\"btn btn-secondary\"\n              type=\"button\"\n              class=\"btn btn-secondary\"\n              data-action=\"increase\"\n            >+</button>\n          </div>\n          <div class=\"modal-books_message-container\"></div>\n          <div class=\"modal-books_buttons-container\">\n            <button \n              class=\"btn\"\n              type=\"button\"\n              data-action=\"add-to-cart\"\n            >Add To Cart</button>\n            <button\n              type=\"submit\"\n              class=\"btn btn-secondary\"\n              data-action=\"buy-now\"\n            >Buy Now</button>\n          </div>\n        </form>\n\n        <div class=\"accordion-container\">\n          <div class=\"ac\">\n            <h2 class=\"ac-header\">\n              <button type=\"button\" class=\"ac-trigger\">\n                Details\n                <svg class=\"chevron-icon\">\n                  <use xlink:href=\"/img/icons.svg#icon-chevron-up\"></use>\n                </svg>\n              </button>\n            </h2>\n            <div class=\"ac-panel\">\n              <p class=\"ac-text\">${details}</p>\n            </div>\n          </div>\n\n          <div class=\"ac\">\n            <h2 class=\"ac-header\">\n              <button type=\"button\" class=\"ac-trigger\">\n                Shipping<svg class=\"chevron-icon\">\n                  <use xlink:href=\"/img/icons.svg#icon-chevron-up\"></use>\n                </svg>\n              </button>\n            </h2>\n            <div class=\"ac-panel\">\n              <p class=\"ac-text\">${shipping}</p>\n            </div>\n          </div>\n\n          <div class=\"ac\">\n            <h2 class=\"ac-header\">\n              <button type=\"button\" class=\"ac-trigger\">\n                Returns<svg class=\"chevron-icon\">\n                  <use xlink:href=\"/img/icons.svg#icon-chevron-up\"></use>\n                </svg>\n              </button>\n            </h2>\n            <div class=\"ac-panel\">\n              <p class=\"ac-text\">${returns}</p>\n            </div>\n          </div>\n        </div>\n      </div>`;\n}\n//#endregion Book Modal Render\n","// Функції для роботи з localStorage\n\nconst CART_STORAGE_KEY = 'shopping_cart';\n\n/**\n * Adds a book to the shopping cart or increases its quantity if already exists\n * @param {string} bookID - Unique identifier of the book\n * @param {number} bookQuantity - Quantity of books to add (must be positive)\n * @returns {boolean} True if successfully added to cart, false otherwise\n * @example\n * // Add 2 copies of book with ID \"xyz\"\n * addToCart(\"xyz\", 2);\n */\nexport function addToCart(bookID, bookQuantity) {\n  if (!bookID || bookQuantity <= 0) {\n    console.warn(\"Wrong parameters, can't add to cart\");\n    return false;\n  }\n\n  const cart = getFullCart();\n  const currentQuantity = cart[bookID] || 0;\n\n  cart[bookID] = Number(currentQuantity) + Number(bookQuantity);\n\n  return saveCart(cart);\n}\n\n/**\n * Removes a specific book from the shopping cart completely\n * @param {string} bookID - Unique identifier of the book to remove\n * @returns {boolean} True if successfully removed, false if bookID is invalid or save failed\n * @example\n * // Remove book with ID \"123\" from cart\n * removeFromCart(\"123\");\n */\nexport function removeFromCart(bookID) {\n  if (!bookID) return false;\n\n  const cart = getFullCart();\n  delete cart[bookID];\n\n  return saveCart(cart);\n}\n\n/**\n * Clears all items from the shopping cart\n * @returns {boolean} True if successfully cleared, false otherwise\n * @example\n * // Remove all items from cart\n * clearCart();\n */\nexport function clearCart() {\n  return saveCart({});\n}\n\n/**\n * Gets the quantity of a specific book in the cart\n * @param {string} bookID - Unique identifier of the book\n * @returns {number} Quantity of the book in cart (0 if not found)\n * @example\n * // Get quantity of book with ID \"123\"\n * getFromCartByID(\"123\");\n */\nexport function getFromCartByID(bookID) {\n  if (!bookID) return 0;\n\n  const cart = getFullCart();\n  return Number(cart[bookID]) || 0;\n}\n\n/**\n * Retrieves the entire shopping cart from localStorage\n * @returns {Object} Cart object with bookID as keys and quantities as values\n * @example\n * // Returns object like: { \"id123\": 2, \"id456\": 1 }\n * const cart = getFullCart();\n */\nexport function getFullCart() {\n  try {\n    const cartData = localStorage.getItem(CART_STORAGE_KEY);\n    return cartData ? JSON.parse(cartData) : {};\n  } catch (error) {\n    console.error('Cart data getting error:', error);\n    return {};\n  }\n}\n\n/**\n * Saves the entire cart object to localStorage\n * @param {Object} cart - Cart object with bookID as keys and quantities as values\n * @returns {boolean} True if successfully saved, false if error occurred\n * @private\n */\nfunction saveCart(cart) {\n  try {\n    localStorage.setItem(CART_STORAGE_KEY, JSON.stringify(cart));\n    return true;\n  } catch (error) {\n    console.error('Cart saving error:', error);\n    return false;\n  }\n}\n","//Описана робота модалки - відкриття закриття і все що з модалкою повʼязано\nimport Accordion from 'accordion-js';\nimport 'accordion-js/dist/accordion.min.css';\nimport { renderBookModal } from './render-function';\nimport { getBookByID } from './products-api';\nimport { addToCart, getFromCartByID } from './storage';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// --- Constants for default text ---\nconst DEFAULT_BOOK_DETAILS = {\n  details: `I Will Find You is a gripping thriller by the master of suspense, Harlan Coben. The story follows David Burroughs, a former prisoner wrongfully convicted of murdering his own son. When he discovers a clue suggesting his son might still be alive, David escapes from prison to uncover the truth. Fast-paced, emotional, and full of unexpected twists — this novel will keep you hooked until the very last page.`,\n  shipping: `We ship across the United States within 2–5 business days. All orders are processed through USPS or a reliable courier service. Enjoy free standard shipping on orders over $50.`,\n  returns: `You can return an item within 14 days of receiving your order, provided it hasn’t been used and is in its original condition. To start a return, please contact our support team — we’ll guide you through the process quickly and hassle-free.`,\n};\n\nclass Modal {\n  constructor(modalElement) {\n    if (!modalElement) throw new Error('Modal Element not found');\n    this.modalElement = modalElement;\n    this.escapeHandler = this.handleEscape.bind(this);\n    this.closeClickHandler = this.handleCloseClick.bind(this);\n  }\n\n  open() {\n    this.modalElement.classList.add('is-open');\n    document.body.style.overflow = 'hidden';\n    document.addEventListener('keydown', this.escapeHandler);\n    this.modalElement.addEventListener('click', this.closeClickHandler);\n  }\n\n  close() {\n    this.modalElement.classList.remove('is-open');\n    document.body.style.overflow = '';\n    document.removeEventListener('keydown', this.escapeHandler);\n    this.modalElement.removeEventListener('click', this.closeClickHandler);\n  }\n\n  handleEscape(event) {\n    if (event.key === 'Escape') this.close();\n  }\n\n  handleCloseClick(event) {\n    const closeBtn = this.modalElement.querySelector('.modal_close-btn');\n    const isCloseButtonClick = closeBtn && closeBtn.contains(event.target);\n    const isOverlayClick = event.target === this.modalElement;\n    if (isCloseButtonClick || isOverlayClick) this.close();\n  }\n}\n\nclass ContactModal extends Modal {\n  constructor(modalElement) {\n    super(modalElement);\n    this.form = this.modalElement.querySelector('#contactForm');\n    if (!this.form) throw new Error('Contact form not found in the modal');\n    this.submitHandler = this.handleSubmit.bind(this);\n  }\n\n  open() {\n    super.open();\n    this.form.addEventListener('submit', this.submitHandler);\n  }\n\n  close() {\n    super.close();\n    this.form.removeEventListener('submit', this.submitHandler);\n    this.form.reset();\n  }\n\n  async handleSubmit(event) {\n    event.preventDefault();\n    const formData = new FormData(this.form);\n    const data = Object.fromEntries(formData.entries());\n\n    try {\n      await this.submitForm(data);\n      // TODO to replace with a good looking notification (e.g., a toast)\n      alert('Your registration has been submitted.');\n      this.close();\n    } catch (error) {\n      // TODO: Display an error message within the form or  good looking notification\n      console.error('Form submission error:', error);\n      alert(\n        'There was an error submitting your registration. Please try again.'\n      );\n    }\n  }\n\n  async submitForm(data) {\n    console.log('Submitting form data:', data);\n    // return new Promise(resolve => setTimeout(resolve, 500));\n  }\n}\n\n// --- Books Modal Class ---\nclass BooksModal extends Modal {\n  constructor(modalElement) {\n    super(modalElement);\n    this.eventHandler = this.handleEvents.bind(this);\n  }\n\n  async open(bookId) {\n    try {\n      const bookData = await getBookByID(bookId);\n      const dataObj = this.prepareData(bookData);\n      renderBookModal(this.modalElement, dataObj);\n\n      super.open(); // Call open from the base class after content is ready\n\n      this.form = this.modalElement.querySelector('#bookModalActionForm');\n      if (this.form) {\n        this.form.addEventListener('click', this.eventHandler);\n        this.form.addEventListener('submit', this.eventHandler);\n      }\n\n      new Accordion(this.modalElement.querySelector('.accordion-container'), {\n        showMultiple: true,\n        duration: 400,\n        collapse: true,\n      });\n    } catch (error) {\n      console.error(`Error loading book with ID ${bookId}:`, error);\n      this.modalElement.innerHTML = `<div class=\"modal-content\"><p>Sorry, we couldn't load the book details. Please try again later.</p></div>`;\n      super.open();\n    }\n  }\n\n  close() {\n    super.close();\n    if (this.form) {\n      this.form.removeEventListener('click', this.eventHandler);\n      this.form.removeEventListener('submit', this.eventHandler);\n    }\n  }\n\n  prepareData(response) {\n    return {\n      bookId: response._id,\n      bookPicture: response.book_image,\n      bookTitle: response.title,\n      bookAuthor: response.author,\n      bookPrice: response.price,\n      bookQuantity: 1,\n      details: response.details || DEFAULT_BOOK_DETAILS.details,\n      shipping: response.shipping || DEFAULT_BOOK_DETAILS.shipping,\n      returns: response.returns || DEFAULT_BOOK_DETAILS.returns,\n    };\n  }\n\n  handleEvents(event) {\n    event.preventDefault();\n    const target = event.target;\n    const action = target.dataset.action;\n\n    switch (action) {\n      case 'decrease':\n        this.updateQuantity(-1);\n        break;\n      case 'increase':\n        this.updateQuantity(1);\n        break;\n      case 'add-to-cart':\n        this.handleAddToCart(target);\n        break;\n      case 'buy-now':\n        this.handleBuyNow();\n        break;\n    }\n\n    if (event.type === 'submit') this.handleBuyNow();\n  }\n\n  updateQuantity(change) {\n    const quantityInput = this.form.querySelector('.quantity-input');\n    let currentValue = parseInt(quantityInput.value);\n    const newValue = currentValue + change;\n\n    if (newValue >= 1) quantityInput.value = newValue;\n  }\n\n  handleAddToCart(button) {\n    const modalData = button.closest('[data-book-id]');\n    const bookId = modalData.dataset.bookId;\n    const quantity = parseInt(this.form.querySelector('.quantity-input').value);\n\n    //TODO add message\n    // iziToast.show({\n    //   theme: 'dark',\n    //   iconUrl: '/img/shopping_basket.svg',\n    //   icon: 'icon-style',\n    //   // title: 'Position',\n    //   message: 'Book (qty: ${quantity}) added',\n    //   position: 'topRight',\n    // });\n    iziToast.show({\n      //color: '#fff',\n      iconUrl: '/img/shopping_basket.svg',\n      iconColor: 'white',\n      //messageSize: '18',\n      // messageLineHeight: '1',\n      balloon: false,\n      // close: true,\n      theme: 'light',\n      progressBar: true,\n      //backgroundColor: '#e15d05',\n      //progressBarColor: 'white',\n      //color: 'white',\n      // title: 'Target',\n      message: `Book (qty: ${quantity}) added`,\n      transitionIn: 'flipInX',\n      transitionInMobile: 'flipInX',\n      target: '.modal-books_message-container',\n      targetFirst: false,\n      timeout: 3000,\n      animateInside: true,\n      //class: 'btn',\n    });\n    console.log(`Book with ID '${bookId}' (qty: ${quantity}) added to Cart.`);\n    console.log(`Total ID '${bookId}' in Cart: ${getFromCartByID(bookId)}`);\n\n    addToCart(bookId, quantity);\n  }\n\n  handleBuyNow() {\n    console.log('\"Buy Now\" clicked.');\n    iziToast.show({\n      //color: '#fff',\n      iconUrl: '/img/shopping_basket.svg',\n      iconColor: 'white',\n      position: 'center', // bottomRight, bottomLeft, topRight, topLeft, topCenter, bottomCenter, center\n      //messageSize: '18',\n      // messageLineHeight: '1',\n      balloon: false,\n      // close: true,\n      theme: 'light',\n      progressBar: true,\n      //backgroundColor: '#e15d05',\n      //progressBarColor: 'white',\n      //color: 'white',\n      // title: 'Target',\n      message: `Thanks for buying!`,\n      transitionIn: 'flipInX',\n      transitionInMobile: 'flipInX',\n      // target: '.modal-books_message-container',\n      targetFirst: false,\n      timeout: 5000,\n      animateInside: true,\n      //class: 'btn',\n    });\n\n    this.close();\n  }\n}\n\n// --- Initialization ---\nconst contactModalElement = document.querySelector('.modal-contacts');\nconst booksModalElement = document.querySelector('.modal-books');\n\nlet contactModal, booksModal;\n\nif (contactModalElement) {\n  contactModal = new ContactModal(contactModalElement);\n}\n\nif (booksModalElement) {\n  booksModal = new BooksModal(booksModalElement);\n}\n\n// functions to interact with the modals from other scripts.\nexport function openContactsModal() {\n  if (contactModal) {\n    contactModal.open();\n  } else {\n    console.error('Contact modal is not initialized.');\n  }\n}\n\nexport function openBooksModal(bookId = '660df41ba957e5c1ae0f519e') {\n  if (booksModal) {\n    booksModal.open(bookId);\n  } else {\n    console.error('Books modal is not initialized.');\n  }\n}\n\n//#region @TODO delete before deployment\nwindow.openBooksModal = openBooksModal;\n//openBooksModal();\n// openBooksModal();\nwindow.openContactsModal = openContactsModal;\n//#endregion @TODO delete before deployment\n","import './js/header.js';\nimport './js/hero.js';\nimport './js/books.js';\nimport './js/feedback.js';\nimport './js/events.js';\nimport './js/footer.js';\nimport './js/modal.js';\n\n// @TODO remove before production deployment\nimport { testAPI } from './js/products-api.js';\ntestAPI();\n// @TODO remove before production deployment\n"],"names":["refs","isAnimationInProgress","toggleMobMenu","open","onTransitionEnd","event","BASE_URL","apiClient","axios","fetchURL","url","data","error","getCategoryList","e","getTopBooks","getBooksByCategory","category","getBookByID","id","testAPI","catList","topBooks","booksByCategory","gallery","select","showMore","visibleCounter","totalCounter","list","allBooks","visibleCount","categoryList","renderCategoriesList","topBooksData","books","renderBooks","categories","cat","option","item","button","selectCategory","btn","updateBooksList","getInitialCount","currentSlice","createMarkup","title","author","book_image","price","renderBookModal","reference","dataObj","markup","bookModalMarkup","obj","bookId","bookPicture","bookTitle","bookAuthor","bookPrice","bookQuantity","details","shipping","returns","CART_STORAGE_KEY","addToCart","bookID","cart","getFullCart","currentQuantity","saveCart","getFromCartByID","cartData","DEFAULT_BOOK_DETAILS","Modal","modalElement","closeBtn","isCloseButtonClick","isOverlayClick","ContactModal","formData","BooksModal","bookData","Accordion","response","target","change","quantityInput","newValue","quantity","iziToast","contactModalElement","booksModalElement","contactModal","booksModal","openContactsModal","openBooksModal"],"mappings":"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"}